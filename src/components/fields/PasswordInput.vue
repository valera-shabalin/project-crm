<template>
	<div class="password-input">
		<input 
			class="password-input__main"
			:type="type" 
			:content="content"
			:placeholder="placeholder"
			@input="$emit('input', $event.target.value)">
		<svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="show-hide-password" v-if="type == 'password'" @click="toggle">
			<path d="M11.984 1.25C8.33061 1.25 4.58295 3.36453 1.63264 7.59359C1.54843 7.71564 1.50228 7.8599 1.50003 8.00816C1.49777 8.15642 1.53952 8.30202 1.61998 8.42656C3.88686 11.975 7.58436 14.75 11.984 14.75C16.3359 14.75 20.1094 11.9666 22.3804 8.41016C22.459 8.28805 22.5008 8.14591 22.5008 8.0007C22.5008 7.8555 22.459 7.71335 22.3804 7.59125C20.1042 4.07562 16.3031 1.25 11.984 1.25Z" stroke="#C5CEE0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
			<path d="M12 11.75C14.0711 11.75 15.75 10.0711 15.75 8C15.75 5.92893 14.0711 4.25 12 4.25C9.92893 4.25 8.25 5.92893 8.25 8C8.25 10.0711 9.92893 11.75 12 11.75Z" stroke="#C5CEE0" stroke-width="1.5" stroke-miterlimit="10"/>
		</svg>
		<svg width="24" height="18" viewBox="0 0 24 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="show-hide-password" v-else @click="toggle">
			<path d="M20.25 18.0001C20.1515 18.0003 20.054 17.9809 19.963 17.9432C19.872 17.9054 19.7893 17.8501 19.7199 17.7803L3.21986 1.28025C3.08515 1.13845 3.01115 0.949642 3.01366 0.75407C3.01616 0.558499 3.09497 0.371643 3.23327 0.233342C3.37157 0.0950406 3.55842 0.0162373 3.75399 0.0137334C3.94957 0.0112295 4.13838 0.0852232 4.28017 0.219938L20.7802 16.7199C20.885 16.8248 20.9564 16.9584 20.9853 17.1039C21.0142 17.2493 20.9993 17.4001 20.9426 17.5371C20.8859 17.6741 20.7898 17.7912 20.6665 17.8736C20.5432 17.956 20.3983 18 20.25 18.0001V18.0001ZM11.9841 15.0001C10.0392 15.0001 8.16377 14.4245 6.40971 13.2892C4.81268 12.2579 3.37502 10.7809 2.25189 9.02353V9.01978C3.18658 7.68056 4.21033 6.54806 5.31002 5.63494C5.31997 5.62662 5.32808 5.61633 5.33385 5.60472C5.33962 5.59311 5.34291 5.58042 5.34353 5.56747C5.34415 5.55452 5.34207 5.54158 5.33743 5.52947C5.33279 5.51736 5.32569 5.50635 5.31658 5.49713L4.38283 4.56478C4.36624 4.54805 4.34395 4.53818 4.32042 4.53714C4.29688 4.5361 4.27381 4.54396 4.2558 4.55916C3.08768 5.54353 2.00346 6.75103 1.01768 8.16478C0.848075 8.40821 0.754669 8.69656 0.749327 8.99319C0.743985 9.28982 0.826949 9.58135 0.987676 9.83072C2.22564 11.7681 3.81892 13.3998 5.59455 14.5487C7.59377 15.8438 9.74533 16.5001 11.9841 16.5001C13.1925 16.4963 14.3924 16.2972 15.5372 15.9104C15.5523 15.9053 15.5659 15.8964 15.5766 15.8846C15.5873 15.8728 15.5948 15.8584 15.5984 15.8429C15.602 15.8273 15.6016 15.8111 15.5972 15.7958C15.5928 15.7805 15.5846 15.7665 15.5733 15.7553L14.5617 14.7437C14.5384 14.721 14.5097 14.7047 14.4782 14.6965C14.4467 14.6883 14.4136 14.6884 14.3822 14.6968C13.5988 14.8985 12.793 15.0004 11.9841 15.0001V15.0001ZM23.0081 8.18447C21.7678 6.26635 20.1586 4.63697 18.3549 3.47213C16.3594 2.18213 14.1563 1.50009 11.9841 1.50009C10.7885 1.50222 9.60175 1.70552 8.47361 2.1015C8.45858 2.10673 8.44513 2.1157 8.43452 2.12757C8.42392 2.13943 8.41651 2.1538 8.41299 2.16933C8.40947 2.18485 8.40997 2.20101 8.41442 2.21629C8.41888 2.23157 8.42715 2.24546 8.43846 2.25666L9.44861 3.26681C9.47213 3.28993 9.50132 3.30644 9.53326 3.31467C9.56519 3.3229 9.59873 3.32256 9.63049 3.31369C10.3978 3.10612 11.1892 3.00067 11.9841 3.00009C13.8914 3.00009 15.7613 3.58275 17.5411 4.73447C19.1681 5.78447 20.6227 7.2601 21.7486 9.0001C21.7494 9.00117 21.7499 9.00249 21.7499 9.00384C21.7499 9.0052 21.7494 9.00652 21.7486 9.0076C20.9313 10.2943 19.9171 11.4447 18.743 12.4168C18.7329 12.4251 18.7247 12.4354 18.7189 12.447C18.713 12.4587 18.7096 12.4714 18.709 12.4844C18.7083 12.4974 18.7104 12.5104 18.715 12.5226C18.7197 12.5348 18.7268 12.5458 18.736 12.5551L19.6688 13.4874C19.6853 13.5041 19.7074 13.514 19.7309 13.5151C19.7543 13.5162 19.7773 13.5085 19.7953 13.4935C21.0488 12.4381 22.1338 11.1976 23.0128 9.81478C23.1682 9.5711 23.2504 9.28794 23.2495 8.99894C23.2487 8.70994 23.1649 8.42725 23.0081 8.18447V8.18447Z" fill="#C5CEE0"/>
			<path d="M12 4.5C11.663 4.49982 11.3269 4.53756 10.9983 4.6125C10.9817 4.61595 10.9664 4.62383 10.9539 4.63531C10.9414 4.64679 10.9323 4.66144 10.9275 4.6777C10.9227 4.69395 10.9224 4.71121 10.9266 4.72763C10.9308 4.74405 10.9394 4.75901 10.9514 4.77094L16.2291 10.0472C16.241 10.0592 16.256 10.0678 16.2724 10.0721C16.2888 10.0763 16.3061 10.076 16.3223 10.0711C16.3386 10.0663 16.3532 10.0572 16.3647 10.0447C16.3762 10.0323 16.3841 10.0169 16.3875 10.0003C16.5378 9.34127 16.5377 8.65684 16.3871 7.99786C16.2366 7.33888 15.9395 6.72228 15.518 6.19385C15.0965 5.66542 14.5613 5.23874 13.9523 4.9455C13.3433 4.65226 12.676 4.49999 12 4.5V4.5ZM7.77097 7.95281C7.75905 7.94076 7.74408 7.93217 7.72766 7.92795C7.71124 7.92373 7.69398 7.92404 7.67773 7.92885C7.66147 7.93366 7.64682 7.94279 7.63534 7.95526C7.62386 7.96773 7.61598 7.98309 7.61253 7.99969C7.44254 8.74235 7.46388 9.51601 7.67457 10.2482C7.88525 10.9803 8.27838 11.647 8.8171 12.1857C9.35583 12.7245 10.0225 13.1176 10.7547 13.3283C11.4868 13.539 12.2605 13.5603 13.0032 13.3903C13.0198 13.3869 13.0351 13.379 13.0476 13.3675C13.0601 13.356 13.0692 13.3414 13.074 13.3251C13.0788 13.3089 13.0791 13.2916 13.0749 13.2752C13.0707 13.2588 13.0621 13.2438 13.05 13.2319L7.77097 7.95281Z" fill="#C5CEE0"/>
		</svg>
	</div>
</template>

<script>
	export default {
		name: 'TextInput',
		model: {
			prop: 'content',
			event: 'input'
		},
		props: {
			placeholder: { type: String, default: 'Введите данные' },
			content: { type: String, default: '' }
		},
		data: () => ({
			type: 'password'
		}),
		methods: {
			toggle() {
				if (this.type == 'password')
					this.type = 'text'
				else this.type = 'password'
			}
		}
	}
</script>

<style lang="scss">
	.password-input {
		position: relative;
		&__main {
			padding: 12px;
			width: 100%;
			border: 1px solid $primary-light;
			border-radius: 5px;
			color: $accent;
			transition: all ease .2s;
			&:focus {
				border: 1px solid $primary;
			}
			&::placeholder {
				color: $primary-light;
			}
		}
		.show-hide-password {
			position: absolute;
			top: 12px;
			right: 15px;
			cursor: pointer;
		}
	}
	@media (max-width: 576px) {
		.password-input {
			&__main {
				padding: 10px;
			}
		}
	}
</style>